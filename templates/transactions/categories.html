{% extends 'base.html' %}
{% block title %}Kategoriyalar{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>Kategoriyalar</h4>
  <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addCategoryModal">Yangi kategoriya</button>
</div>

<ul class="list-group">
  {% for c in categories %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      {{ c.name }} <span class="badge bg-secondary">{{ c.type }}</span>
    </li>
  {% empty %}
    <li class="list-group-item">Kategoriya yo'q</li>
  {% endfor %}
</ul>

<!-- Modal add category -->
<div class="modal fade" id="addCategoryModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="post" action="{% url 'transactions:category_create' %}">{% csrf_token %}
        <div class="modal-header"><h5 class="modal-title">Yangi kategoriya</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
        <div class="modal-body">
          <div class="mb-2"><label>Nom</label><input name="name" class="form-control"></div>
          <div class="mb-2"><label>Type</label>
            <select name="type" class="form-control"><option value="income">Income</option><option value="expense">Expense</option></select>
          </div>
        </div>
        <div class="modal-footer"><button class="btn btn-primary">Saqlash</button></div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
